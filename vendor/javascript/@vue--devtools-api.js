function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof global?global:{}}const t="function"===typeof Proxy;const e="devtools-plugin:setup";const o="plugin:settings:set";let s;let n;function isPerformanceSupported(){var t;if(void 0!==s)return s;if("undefined"!==typeof window&&window.performance){s=true;n=window.performance}else if("undefined"!==typeof global&&(null===(t=global.perf_hooks)||void 0===t?void 0:t.performance)){s=true;n=global.perf_hooks.performance}else s=false;return s}function now(){return isPerformanceSupported()?n.now():Date.now()}class ApiProxy{constructor(t,e){this.target=null;this.targetQueue=[];this.onQueue=[];this.plugin=t;this.hook=e;const s={};if(t.settings)for(const e in t.settings){const o=t.settings[e];s[e]=o.defaultValue}const n=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},s);try{const t=localStorage.getItem(n);const e=JSON.parse(t);Object.assign(r,e)}catch(t){}this.fallbacks={getSettings(){return r},setSettings(t){try{localStorage.setItem(n,JSON.stringify(t))}catch(t){}r=t},now(){return now()}};e&&e.on(o,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)}));this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}});this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>{this.targetQueue.push({method:e,args:t,resolve:()=>{}});return this.fallbacks[e](...t)}:(...t)=>new Promise((o=>{this.targetQueue.push({method:e,args:t,resolve:o})}))})}async setRealTarget(t){this.target=t;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function setupDevtoolsPlugin(o,s){const n=o;const r=getTarget();const i=getDevtoolsGlobalHook();const a=t&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&a){const t=a?new ApiProxy(n,i):null;const e=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];e.push({pluginDescriptor:n,setupFn:s,proxy:t});t&&s(t.proxiedTarget)}else i.emit(e,o,s)}export{isPerformanceSupported,now,setupDevtoolsPlugin};

